import React, { useState } from 'react';\nimport { Container, Row, Col, Card, Button, Table, Badge, Modal, Form } from 'react-bootstrap';\nimport { categories } from '../../data/demoData';\nimport { toast } from 'react-toastify';\n\nconst Dashboard = () => {\n  const [products, setProducts] = useState([\n    { id: 1, name: 'iPhone 15 Pro', price: 129999, category: 'Electronics', stock: 50, status: 'Active' },\n    { id: 2, name: 'MacBook Air M3', price: 114900, category: 'Electronics', stock: 25, status: 'Active' }\n  ]);\n  \n  const [orders] = useState([\n    { id: 'ORD001', customer: 'John Doe', amount: 129999, status: 'Pending', date: '2024-01-15' },\n    { id: 'ORD002', customer: 'Jane Smith', amount: 114900, status: 'Shipped', date: '2024-01-14' }\n  ]);\n  \n  const [showAddProduct, setShowAddProduct] = useState(false);\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    price: '',\n    category: '',\n    subcategory: '',\n    description: '',\n    stock: ''\n  });\n\n  const stats = {\n    totalProducts: products.length,\n    totalOrders: orders.length,\n    pendingOrders: orders.filter(o => o.status === 'Pending').length,\n    totalRevenue: orders.reduce((sum, order) => sum + order.amount, 0)\n  };\n\n  const handleAddProduct = () => {\n    if (newProduct.name && newProduct.price && newProduct.category) {\n      const product = {\n        id: Date.now(),\n        ...newProduct,\n        price: parseFloat(newProduct.price),\n        stock: parseInt(newProduct.stock) || 0,\n        status: 'Active'\n      };\n      \n      setProducts(prev => [...prev, product]);\n      setNewProduct({ name: '', price: '', category: '', subcategory: '', description: '', stock: '' });\n      setShowAddProduct(false);\n      toast.success('‚úÖ Product added successfully!');\n    } else {\n      toast.error('‚ùå Please fill all required fields');\n    }\n  };\n\n  const toggleProductStatus = (productId) => {\n    setProducts(prev => prev.map(product => \n      product.id === productId \n        ? { ...product, status: product.status === 'Active' ? 'Inactive' : 'Active' }\n        : product\n    ));\n    toast.success('‚úÖ Product status updated!');\n  };\n\n  const selectedCategory = categories.find(c => c.id === parseInt(newProduct.category));\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#f8f9fa' }}>\n      <Container fluid className=\"py-4\">\n        <Row className=\"mb-4\">\n          <Col>\n            <h2>üè™ Vendor Dashboard</h2>\n          </Col>\n        </Row>\n        \n        {/* Stats Cards */}\n        <Row className=\"mb-4\">\n          <Col md={3}>\n            <Card className=\"text-center shadow-sm border-primary\">\n              <Card.Body>\n                <div style={{ fontSize: '2rem' }}>üì¶</div>\n                <h3 className=\"text-primary\">{stats.totalProducts}</h3>\n                <p className=\"mb-0\">Total Products</p>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={3}>\n            <Card className=\"text-center shadow-sm border-success\">\n              <Card.Body>\n                <div style={{ fontSize: '2rem' }}>üìã</div>\n                <h3 className=\"text-success\">{stats.totalOrders}</h3>\n                <p className=\"mb-0\">Total Orders</p>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={3}>\n            <Card className=\"text-center shadow-sm border-warning\">\n              <Card.Body>\n                <div style={{ fontSize: '2rem' }}>‚è≥</div>\n                <h3 className=\"text-warning\">{stats.pendingOrders}</h3>\n                <p className=\"mb-0\">Pending Orders</p>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={3}>\n            <Card className=\"text-center shadow-sm border-info\">\n              <Card.Body>\n                <div style={{ fontSize: '2rem' }}>üí∞</div>\n                <h3 className=\"text-info\">‚Çπ{stats.totalRevenue.toLocaleString()}</h3>\n                <p className=\"mb-0\">Total Revenue</p>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col lg={8}>\n            <Card className=\"shadow-sm mb-4\">\n              <Card.Header className=\"bg-primary text-white d-flex justify-content-between align-items-center\">\n                <h5 className=\"mb-0\">üì¶ My Products</h5>\n                <Button variant=\"light\" size=\"sm\" onClick={() => setShowAddProduct(true)}>\n                  ‚ûï Add Product\n                </Button>\n              </Card.Header>\n              <Card.Body>\n                <div className=\"table-responsive\">\n                  <Table hover>\n                    <thead className=\"table-light\">\n                      <tr>\n                        <th>Product</th>\n                        <th>Price</th>\n                        <th>Stock</th>\n                        <th>Status</th>\n                        <th>Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {products.map(product => (\n                        <tr key={product.id}>\n                          <td>\n                            <div className=\"d-flex align-items-center\">\n                              <div className=\"me-2\" style={{ fontSize: '1.5rem' }}>\n                                {product.name.includes('iPhone') ? 'üì±' : 'üíª'}\n                              </div>\n                              <div>\n                                <strong>{product.name}</strong>\n                                <br />\n                                <small className=\"text-muted\">{product.category}</small>\n                              </div>\n                            </div>\n                          </td>\n                          <td className=\"text-success fw-bold\">\n                            ‚Çπ{product.price.toLocaleString()}\n                          </td>\n                          <td>\n                            <Badge bg={product.stock > 10 ? 'success' : 'warning'}>\n                              {product.stock} units\n                            </Badge>\n                          </td>\n                          <td>\n                            <Badge bg={product.status === 'Active' ? 'success' : 'secondary'}>\n                              {product.status}\n                            </Badge>\n                          </td>\n                          <td>\n                            <div className=\"d-flex gap-1\">\n                              <Button \n                                variant=\"outline-primary\" \n                                size=\"sm\"\n                                onClick={() => toast.info('üîß Edit feature coming soon!')}\n                              >\n                                ‚úèÔ∏è\n                              </Button>\n                              <Button \n                                variant={product.status === 'Active' ? 'outline-warning' : 'outline-success'}\n                                size=\"sm\"\n                                onClick={() => toggleProductStatus(product.id)}\n                              >\n                                {product.status === 'Active' ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}\n                              </Button>\n                            </div>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </Table>\n                </div>\n              </Card.Body>\n            </Card>\n          </Col>\n          \n          <Col lg={4}>\n            <Card className=\"shadow-sm\">\n              <Card.Header className=\"bg-success text-white\">\n                <h5 className=\"mb-0\">üìã Recent Orders</h5>\n              </Card.Header>\n              <Card.Body>\n                {orders.map(order => (\n                  <div key={order.id} className=\"border-bottom pb-2 mb-2\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                      <div>\n                        <strong>{order.id}</strong>\n                        <br />\n                        <small className=\"text-muted\">üë§ {order.customer}</small>\n                      </div>\n                      <div className=\"text-end\">\n                        <div className=\"text-success fw-bold\">\n                          ‚Çπ{order.amount.toLocaleString()}\n                        </div>\n                        <Badge bg={order.status === 'Pending' ? 'warning' : 'info'}>\n                          {order.status}\n                        </Badge>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                <div className=\"text-center mt-3\">\n                  <Button variant=\"outline-primary\" size=\"sm\">\n                    üìã View All Orders\n                  </Button>\n                </div>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n\n        {/* Add Product Modal */}\n        <Modal show={showAddProduct} onHide={() => setShowAddProduct(false)} size=\"lg\">\n          <Modal.Header closeButton className=\"bg-primary text-white\">\n            <Modal.Title>‚ûï Add New Product</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form>\n              <Row>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>üìù Product Name *</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      value={newProduct.name}\n                      onChange={(e) => setNewProduct({...newProduct, name: e.target.value})}\n                      placeholder=\"Enter product name\"\n                    />\n                  </Form.Group>\n                </Col>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>üí∞ Price *</Form.Label>\n                    <Form.Control\n                      type=\"number\"\n                      value={newProduct.price}\n                      onChange={(e) => setNewProduct({...newProduct, price: e.target.value})}\n                      placeholder=\"Enter price\"\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n              \n              <Row>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>üìÇ Category *</Form.Label>\n                    <Form.Select\n                      value={newProduct.category}\n                      onChange={(e) => setNewProduct({...newProduct, category: e.target.value, subcategory: ''})}\n                    >\n                      <option value=\"\">Select Category</option>\n                      {categories.map(cat => (\n                        <option key={cat.id} value={cat.id}>{cat.name}</option>\n                      ))}\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n                <Col md={6}>\n                  {selectedCategory && (\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>üìÅ Subcategory</Form.Label>\n                      <Form.Select\n                        value={newProduct.subcategory}\n                        onChange={(e) => setNewProduct({...newProduct, subcategory: e.target.value})}\n                      >\n                        <option value=\"\">Select Subcategory</option>\n                        {selectedCategory.subcategories.map(sub => (\n                          <option key={sub.id} value={sub.id}>{sub.name}</option>\n                        ))}\n                      </Form.Select>\n                    </Form.Group>\n                  )}\n                </Col>\n              </Row>\n              \n              <Row>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>üì¶ Stock Quantity</Form.Label>\n                    <Form.Control\n                      type=\"number\"\n                      value={newProduct.stock}\n                      onChange={(e) => setNewProduct({...newProduct, stock: e.target.value})}\n                      placeholder=\"Enter stock quantity\"\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n              \n              <Form.Group className=\"mb-3\">\n                <Form.Label>üìÑ Description</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={3}\n                  value={newProduct.description}\n                  onChange={(e) => setNewProduct({...newProduct, description: e.target.value})}\n                  placeholder=\"Enter product description\"\n                />\n              </Form.Group>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => setShowAddProduct(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"primary\" onClick={handleAddProduct}>\n              ‚ûï Add Product\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </Container>\n    </div>\n  );\n};\n\nexport default Dashboard;